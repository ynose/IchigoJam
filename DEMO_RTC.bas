1 'RTC DEMO
10 CLS
20 IF BTN=1 P=#707:GOTO 500

100 CLS:LC 0,0:POKE#700,0
110 IF I2CR(#68,#700,1,#701,7)?"E"
120 A=#707:GOSUB 200:?"/";
130 A=#706:GOSUB 200:?"/";
140 A=#705:GOSUB 200:?
150 A=#703:GOSUB 200:?":";
160 A=#702:GOSUB 200:?":";
170 A=#701:GOSUB 200:?
180 GOTO 100

'Print Time
200 S=PEEK(A)
210 IF A=#701 LET S,S&#7F
220 IF A=#702 LET S,S&#7F
230 S=S/16*10+S%16:IF S<10 ?"0";
240 ?S;
250 RETURN

' Adjust CLOCK
500 ?"YEAR   ";:INPUT I:GOSUB 600
510 ?"MONTH  ";:INPUT I:GOSUB 600
520 ?"DAY    ";:INPUT I:GOSUB 600
530 ?"HOUR   ";:INPUT I:GOSUB 600
540 ?"MINUTE ";:INPUT I:GOSUB 600
550 I=0:GOSUB 600
560 ?"---SET RTC---"
570 POKE #700,0:POKE #704,0
580 Z=I2CW(#68,#700,1,#701,7)
590 GOTO 10

600 I=I/10*16+I%10:POKE P,I
610 P=P-1
620 IF P=#704 P=#703
630 ?HEX$(I,2)
640 RETURN
